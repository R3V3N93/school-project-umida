class Trash : Actor
{
    DebugInfo debug;
    int timer; // tic
    int stoptimer; //tic
    int gauge;
    int score;
    int velocity;
    Property Weight : gauge;
    Property Score : score;
    Property Speed : velocity;
    Handler game;
    Harpoon mouse;
    Default
    {
        Height 10;
        Radius 100;
        Trash.Weight 30;
        Trash.Score 100;
        Trash.Speed 10;
        +NOFRICTION;
        -SOLID;
        +SHOOTABLE;
    }

    override void PostBeginPlay()
    {
        super.PostBeginPlay();
        game = Handler(EventHandler.Find("Handler"));
        mouse = Harpoon(Eventhandler.Find("Harpoon"));
        debug = DebugInfo(Eventhandler.Find("Debuginfo"));
    }

    void accel()
    {
        self.vel.x = -velocity;
    }

    override void Tick()
    {
        super.Tick();
        debug.AddMInfoItem(self.GetClassName()..".timer = "..self.timer);
        self.timer++;

        if(self.pos.x <= game.screenXLeft)
        {
            game.damagePlayer();
            game.stopCombo();
            self.destroy();
        }

        if(self.vel.x == 0 && game.player.mo.tracer != self)
        {
            /*if(mouse.cursor_actor != self)
                self.vel.x = -10.0;*/
            stoptimer++;
            if(stoptimer >= 17)
                self.accel();
        }
        else
            stoptimer = 0;
        
        if(self.gauge <= 0)
        {
            game.grantScore(self.timer, self.score);
            game.doCombo();
            self.destroy();
        }

        if(self.gauge < self.default.gauge)
        {   
            self.gauge++;
            
        }
    }
    States
    {
        Spawn:
            TRSH A 1
            {
                
            }
            Loop;
    }
}